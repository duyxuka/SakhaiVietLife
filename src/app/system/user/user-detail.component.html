<form [formGroup]="form" (ngSubmit)="saveChange()" skipValidation>
  <p-panel #pnlDetail header="Thông tin nhân viên">
    <!-- Form Body -->
    <ng-template pTemplate="body">
      <div class="flex flex-col gap-6 mt-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Tài khoản -->
          <div>
            <label for="userName" class="block font-bold mb-2">Tài khoản <span class="text-red-500">*</span></label>
            <input id="userName" type="text" pInputText formControlName="userName" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="userName" [validationMessages]="validationMessages" />
          </div>

          <!-- Mật khẩu -->
          <div>
            <label for="password" class="block font-bold mb-2">Mật khẩu <span class="text-red-500">*</span></label>
            <input id="password" type="password" pInputText formControlName="password" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="password" [validationMessages]="validationMessages" />
          </div>

          <!-- Họ -->
          <div>
            <label for="surname" class="block font-bold mb-2">Họ <span class="text-red-500">*</span></label>
            <input id="surname" type="text" pInputText formControlName="surname" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="surname" [validationMessages]="validationMessages" />
          </div>

          <!-- Tên -->
          <div>
            <label for="name" class="block font-bold mb-2">Tên <span class="text-red-500">*</span></label>
            <input id="name" type="text" pInputText formControlName="name" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="name" [validationMessages]="validationMessages" />
          </div>

          <!-- Email -->
          <div>
            <label for="email" class="block font-bold mb-2">Email <span class="text-red-500">*</span></label>
            <input id="email" type="text" pInputText formControlName="email" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="email" [validationMessages]="validationMessages" />
          </div>

          <!-- Số điện thoại -->
          <div>
            <label for="phoneNumber" class="block font-bold mb-2">Số điện thoại <span class="text-red-500">*</span></label>
            <input id="phoneNumber" type="text" pInputText formControlName="phoneNumber" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="phoneNumber" [validationMessages]="validationMessages" />
          </div>

          <!-- Mã nhân viên -->
          <div>
            <label for="maNv" class="block font-bold mb-2">Mã nhân viên <span class="text-red-500">*</span></label>
            <input id="maNv" type="text" pInputText formControlName="maNv" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="maNv" [validationMessages]="validationMessages" />
          </div>

          <!-- Họ và tên -->
          <div>
            <label for="hoTen" class="block font-bold mb-2">Họ và tên <span class="text-red-500">*</span></label>
            <input id="hoTen" type="text" pInputText formControlName="hoTen" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="hoTen" [validationMessages]="validationMessages" />
          </div>
          
          <!-- Giới tính -->
          <div>
            <label for="gioiTinh" class="block font-bold mb-2">Giới tính <span class="text-red-500">*</span></label>
            <p-select id="gioiTinh" [options]="GioiTinh" formControlName="gioiTinh" optionLabel="label" optionValue="value" placeholder="Chọn giới tính" [showClear]="true" class="w-full"></p-select>
            <app-validation-message [entityForm]="form" fieldName="gioiTinh" [validationMessages]="validationMessages" />
          </div>

          <!-- Ngày sinh -->
          <div>
            <label for="ngaySinh" class="block font-bold mb-2">Ngày sinh <span class="text-red-500">*</span></label>
            <p-datepicker id="ngaySinh" formControlName="ngaySinh" dateFormat="dd/mm/yy" showIcon="true" placeholder="Chọn ngày" class="w-full"></p-datepicker>
            <app-validation-message [entityForm]="form" fieldName="ngaySinh" [validationMessages]="validationMessages" />
          </div>

          <!-- Số CMND -->
          <div>
            <label for="soCmnd" class="block font-bold mb-2">Số CMND/CCCD</label>
            <input id="soCmnd" type="text" pInputText formControlName="soCmnd" class="w-full" />
            <app-validation-message [entityForm]="form" fieldName="soCmnd" [validationMessages]="validationMessages" />
          </div>

          <!-- Ngày cấp -->
          <div>
            <label for="ngayCapCmnd" class="block font-bold mb-2">Ngày cấp</label>
            <p-datepicker id="ngayCapCmnd" formControlName="ngayCapCmnd" dateFormat="dd/mm/yy" showIcon="true" placeholder="Chọn ngày cấp" class="w-full"></p-datepicker>
          </div>

          <!-- Nơi cấp -->
          <div>
            <label for="noiCapCmnd" class="block font-bold mb-2">Nơi cấp</label>
            <input id="noiCapCmnd" type="text" pInputText formControlName="noiCapCmnd" class="w-full" />
          </div>

          <!-- Địa chỉ -->
          <div>
            <label for="diaChi" class="block font-bold mb-2">Địa chỉ</label>
            <input id="diaChi" type="text" pInputText formControlName="diaChi" class="w-full" />
          </div>

          <!-- Phòng ban -->
          <div>
            <label for="phongBanId" class="block font-bold mb-2">Phòng ban <span class="text-red-500">*</span></label>
            <p-select id="phongBanId" [options]="phongBanList" formControlName="phongBanId" placeholder="Chọn phòng ban" [showClear]="true" class="w-full"></p-select>
            <app-validation-message [entityForm]="form" fieldName="phongBanId" [validationMessages]="validationMessages" />
          </div>

          <!-- Chức vụ -->
          <div>
            <label for="chucVuId" class="block font-bold mb-2">Chức vụ <span class="text-red-500">*</span></label>
            <p-select id="chucVuId" [options]="chucVuList" formControlName="chucVuId" placeholder="Chọn chức vụ" [showClear]="true" class="w-full"></p-select>
            <app-validation-message [entityForm]="form" fieldName="chucVuId" [validationMessages]="validationMessages" />
          </div>

          <!-- Ngày vào làm -->
          <div>
            <label for="ngayVaoLam" class="block font-bold mb-2">Ngày vào làm <span class="text-red-500">*</span></label>
            <p-datepicker id="ngayVaoLam" formControlName="ngayVaoLam" dateFormat="dd/mm/yy" showIcon="true" placeholder="Chọn ngày vào làm" class="w-full"></p-datepicker>
            <app-validation-message [entityForm]="form" fieldName="ngayVaoLam" [validationMessages]="validationMessages" />
          </div>

          <!-- Trạng thái -->
          <div>
            <label for="trangThai" class="block font-bold mb-2">Trạng thái <span class="text-red-500">*</span></label>
            <p-select id="trangThai" [options]="[{ label: 'Đang làm việc', value: 'Đang làm việc' }, { label: 'Đã nghỉ', value: 'Đã nghỉ' }]" formControlName="trangThai" placeholder="Chọn trạng thái" [showClear]="true" class="w-full"></p-select>
            <app-validation-message [entityForm]="form" fieldName="trangThai" [validationMessages]="validationMessages" />
          </div>
        </div>
      </div>
    </ng-template>

    <!-- Footer -->
    <ng-template pTemplate="footer">
      <p-toolbar>
        <ng-template pTemplate="end">
          <p-button label="Hủy" icon="pi pi-times" severity="secondary" [outlined]="true" [rounded]="true" (onClick)="cancel()" class="mr-2" />
          <p-button type="submit" label="Lưu lại" icon="pi pi-check" [disabled]="!form.valid || btnDisabled" [loading]="btnDisabled" />
        </ng-template>
      </p-toolbar>
    </ng-template>

    <!-- Block UI -->
    <p-blockUI [blocked]="blockedPanelDetail" [target]="pnlDetail">
      <p-progressSpinner style="top: 37%;" />
    </p-blockUI>
  </p-panel>
</form>
