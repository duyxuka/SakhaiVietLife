<form [formGroup]="form" (ngSubmit)="saveChange()" skipValidation>
    <p-panel #pnl header="Chi tiết loại thu chi">
        <ng-template pTemplate="body">
            <div class="flex flex-col gap-6 mt-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <div>
                        <label class="block font-bold mb-2">Tên loại <span
                                class="text-red-500">*</span></label>
                        <input type="text" pInputText formControlName="ten"
                            placeholder="VD: Thu tiền mặt" fluid />
                        <app-validation-message [entityForm]="form"
                            fieldName="ten"
                            [validationMessages]="validationMessages" />
                    </div>

                    <div class="flex items-center gap-3">
                        <label class="font-bold">Là Thu?</label>
                        <p-toggleswitch
                            formControlName="isThu"></p-toggleswitch>
                    </div>

                    <div class="col-span-2">
                        <label class="block font-bold mb-2">Mô tả</label>
                        <textarea pInputTextarea rows="4" formControlName="moTa"
                            placeholder="Nhập mô tả..."
                            class="w-full"></textarea>
                    </div>

                </div>
            </div>
        </ng-template>

        <ng-template pTemplate="footer">
            <p-toolbar>
                <ng-template pTemplate="end">
                    <p-button label="Hủy" icon="pi pi-times"
                        severity="secondary" [outlined]="true" [rounded]="true"
                        (onClick)="cancel()" class="mr-2" />
                    <p-button type="submit" label="Lưu lại" icon="pi pi-check"
                        [disabled]="!form.valid || btnDisabled"
                        [loading]="btnDisabled" />
                </ng-template>
            </p-toolbar>
        </ng-template>

        <p-blockui [blocked]="blockedPanel" [target]="pnl">
            <p-progress-spinner style="top: 37%;" />
        </p-blockui>
    </p-panel>
</form>